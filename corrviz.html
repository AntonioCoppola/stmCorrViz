
  <!DOCTYPE html><meta charset=UTF-8>
  <style>.node rect{cursor:pointer;fill:#fff;fill-opacity:.5;stroke:#3182bd;stroke-width:1.5px;}
  .node text{font:10px sans-serif;pointer-events:none;}
  path.link{fill:none;stroke:#9ecae1;stroke-width:1.5px;}
  .control.glyphicon{position:static;color:#4A4C4F;font-family:"Oxygen", sans-serif;cursor:pointer;}
  .scrollbox{height: 120px;border: 1px solid #e5e5e5;overflow: scroll;}
  .bar{fill: steelblue;}.axis{font: 10px sans-serif;}.axis path,.axis line{fill: none; stroke: #000;
  shape-rendering: crispEdges;}.x.axis path{display: none;}</style>
  <link href="https://fonts.googleapis.com/css?family=Oxygen" rel=stylesheet type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel=stylesheet>
  <title>STM Visualization</title><body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <script>var margin={top:30,right:20,bottom:30,left:20},width=window.innerWidth/1.5-margin.left-margin.right,height=window.innerHeight-margin.top-margin.bottom,barHeight=20,barWidth=width*.8;
  var i=0,duration=400,root;var tree=d3.layout.tree().nodeSize([0,20]);var diagonal=d3.svg.diagonal().projection(function(d){return[d.y,d.x];});
  var svg=d3.select("body").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");
  root= {"children":[{"name":["american, care, worri, job, will, welfar, illeg"],"children":[{"name":["worri, state, crime, legal, will, illeg, servic"],"children":[{"name":["concern, worri, relat, state, resourc, unit, unfair"],"size":[1800],"topic_no":[6],"thought_1":["i am most worried about the conception that forms in the relation of the modern nation state to that of the foreigner.  a relation of same and other is established that marginalizes the other in such a way as to turn hospitality into slavery.  the largest worries of immigration manifest themselves as concerns over economic effects primarily because the nation state has communally devolved into a neoliberal capitalist organization.  it is the corporisation of the state that governs the question of immigration, the question that is then framed in terms of resources and production.  my worry is that capitalist democracy will continue to perpetuate itself and replace community with individualism, consumerism, and the great american freedom-the freedom to buy"],"thought_2":["i often worry that united states will become over crowded and immigration will place a economical strain on the counyry."],"prob":["worri, will, state, concern, unit, resourc, assimil"],"frex":["concern, worri, relat, state, resourc, unit, unfair"],"lift":["bit, democraci, individu, lead, product, safeti, concern"],"score":["attitud, buy, california, class, colleg, compani, complet"],"proportion":["0.04"]},{"name":["servic, just, crime, public, cultur, activ, crimin"],"size":[1800],"topic_no":[8],"thought_1":["i firmly believe that the u.s. is a melting pot of nationalities and races -- people of different ethnic backgrounds blending into one rich culture - without losing the distinctiveness of their own culture.  in order to accomplish this safely and effectively:  1)immigrants must be in our country legally  2)immigrants need to learn our language  3) immigrants need to obey our laws. fears about illegal immigrants: terrorism, criminal activities, heavy drain on social services & medical services, weighing down the public school systems esl & other special needs."],"thought_2":["drain on us social services and medical service.\nincreased crime rates"],"prob":["servic, illeg, crime, legal, just, social, public"],"frex":["servic, just, crime, public, cultur, activ, crimin"],"lift":["vers, weak, activ, just, payer, servic, public"],"score":["agent, attitud, belong, buy, close, colleg, complet"],"proportion":["0.04"]}],"topic_no":[6,8]},{"name":["american, secur, want, welfar, social, healthcar, job"],"children":[{"name":["job, paid, hard, health, lower, lost, benefit"],"size":[1800],"topic_no":[9],"thought_1":["crime\nlost jobs\nbenefits paid to illegals\nhealth care and food....we cannot feed the world when we have americans starving, etc"],"thought_2":["i want illegals gone.  they cost my husband his business.  they come here undercut the americans, and then raise their prices after they've driven hard working americans out of their jobs."],"prob":["job, health, paid, benefit, lower, lost, hard"],"frex":["job, paid, hard, health, lower, lost, benefit"],"lift":["job, hard, poverti, lost, food, starv, lower"],"score":["agent, answer, attitud, belong, california, class, close"],"proportion":["0.04"]},{"name":["healthcar, welfar, lack, secur, american, diseas, taxpay"],"size":[1800],"topic_no":[11],"thought_1":["abuse of healthcare and welfare programs.\npotential workers for less desirable jobs."],"thought_2":["loss of american culture.  loss of rights, money and services to americans.  lack of security.  double standards.  lack of unified english.  end of american way of life."],"prob":["american, welfar, secur, social, healthcar, want, loss"],"frex":["healthcar, welfar, lack, secur, american, diseas, taxpay"],"lift":["lack, card, diseas, doubl, green, healthcar, migrant"],"score":["agent, attitud, belong, buy, california, class, close"],"proportion":["0.07"]}],"topic_no":[9,11]},{"name":["increas, illeg, care, school, system, health, cost"],"children":[{"name":["violenc, racism, popul, may, valu, natur, never"],"size":[1800],"topic_no":[1],"thought_1":["robbing americans of their social security; rising costs of social programs to cover illegals; rising costs of incarceration due to illegals; not being able to understand what they are saying (spanish and other languages); the fact that illegal immigrants are here with their children who go through our school systems then cannot get financial aid for college because their parents never filed for naturalization leaving the kids to work dead end jobs and never get naturalized; the fact that they are doing the work that americans don't want to do anyway, and then the americans complain about it; border walls; increasing amounts of drugs in america because it is so easy to get into our country"],"thought_2":["an attitude amongst many americans fueled by some members of the media who use the term \"immigrant\" almost as a term of abuse and seem totally unable to differentiate between legal & illegal immigration.  i also see an incredible degree of racism - the assumption often being that anyone hispanic must be an illegal immigrant."],"prob":["popul, illeg, american, violenc, get, drug, racism"],"frex":["violenc, racism, popul, may, valu, natur, never"],"lift":["violenc, attitud, kid, member, racism, undercut, may"],"score":["agent, attitud, belong, buy, california, class, close"],"proportion":["0.03"]},{"name":["cost, care, educ, increas, hospit, health, expens"],"size":[1800],"topic_no":[5],"thought_1":["costs to feed, house, educate, and provide medical care\n\npotential for enemies of the us to enter"],"thought_2":["wide open borders that allow terrorists to enter at will\nincreased costs of health care due to illegal immigrants taxing the hospital system\ntalk of amnesty causing a greater influx of illegal immigrants\non the other hand, tough immigration practices causing families to be torn apart when illegals are sent home\nprices rising dramatically due to the loss of inexpensive labor"],"prob":["care, illeg, cost, health, crime, system, increas"],"frex":["cost, care, educ, increas, hospit, health, expens"],"lift":["imigr, influx, price, educ, cost, expens, hospit"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.06"]}],"topic_no":[1,5]}],"topic_no":[6,8,9,11,1,5]},{"name":["think, come, legal, peopl, illeg, immigr, countri"],"children":[{"name":["mexico, think, immigr, illeg, legal, border, need"],"children":[{"name":["think, immigr, countri, everyon, american, amount, legal"],"children":[{"name":["think, everyon, appli, came, grandpar, legal, allow"],"size":[1800],"topic_no":[7],"thought_1":["i think that we are country founded on immigration and we should definitely allow immigration, but with strict rules and regulations.  we need to be protected, physically and economically.  i think that if someone immigrates here and is a strain on society they should be removed."],"thought_2":["i think of the american born people, and how we've sacrificed to give them their freedom. i think a lot of people have becom frustrated with it all. when white people apply for a job (minimum wage) and they are told their salary is not negotiable, and yet the minority is able to negotiate a higher wage for the same job. it is discrimination against our own. i think of what andy rooney said a while ago about this very subject and agree completely. if you come to our country - speak english. respect our laws. our country doesn't owe you anything, work for it like the rest of us! simply, i am against illegal immigrants, and legal immigrants should adjust to our ways, not us - to theirs."],"prob":["think, legal, countri, everyon, american, need, allow"],"frex":["think, everyon, appli, came, grandpar, legal, allow"],"lift":["appli, asylum, came, grandpar, lot, solut, ancestor"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.04"]},{"name":["immigr, amount, someth, built, mean, paid, dollar"],"size":[1800],"topic_no":[14],"thought_1":["i worry about the republican party doing something very stupid.  this country was built on immigration, to deny anyone access to citizenship is unconstitutional.  what happened to give me your poor, sick, and tired?"],"thought_2":["i think about illegal immigrants.\ngiving them services paid for by tax dollars paid for by residents and legal immigrants."],"prob":["immigr, amount, paid, mean, give, someth, dollar"],"frex":["immigr, amount, someth, built, mean, paid, dollar"],"lift":["built, someth, immigr, amount, dollar, overwhelm, deni"],"score":["agent, attitud, belong, buy, california, class, close"],"proportion":["0.07"]}],"topic_no":[7,14]},{"name":["need, mexican, illeg, legal, mexico, border, enter"],"children":[{"name":["usa, enter, visa, bring, law, use, can"],"size":[1800],"topic_no":[17],"thought_1":["legally entering the usa meeting the requirements is the law. entering the usa improperly is a crime. it is unfortunate that the american bar association has fought treating entering the usa as a crime. and our politicians from both parties have been so anxious to get the \"vote\" that they refuse to inforce the law. meanwhile, terorists can walk right in without any problem. no accountability on the part of politicians supported by the news media will bring our nation down eventually. and the normal person will wonder how it happened."],"thought_2":["that there are different rules for people depending on the country they are coming from. westerns europeans and others from wealthy nations can easily enter the us but people from developing countries have a difficult time obtaining visas because too many  people have abused the system (sneaking into the country; using a tourist visa to enter and staying illegally)."],"prob":["enter, law, usa, use, can, bring, visa"],"frex":["usa, enter, visa, bring, law, use, can"],"lift":["develop, inforc, wast, wonder, visa, bring, usa"],"score":["agent, attitud, belong, buy, california, class, close"],"proportion":["0.03"]},{"name":["fine, mexico, legal, border, need, illeg, mexican"],"children":[{"name":["deport, illeg, need, fine, mexican, border, certain"],"size":[1800],"topic_no":[16],"thought_1":["1. boarders need to be secured. 2. illegals need to be deported. 3.legals need to be treated fairly"],"thought_2":["close borders.\nfine employers who employ illegal immigrats (im).\nremove children of im from public schools.\nno ssa or welfare for ims.\nwhen picked up by police or any other government institution, they should be taken into custody and deported.\nif an im is deported and returns to the us, they should be jailed and the family or mexican government made to paid for the cost of upkeep."],"prob":["illeg, border, need, legal, mexican, fine, deport"],"frex":["deport, illeg, need, fine, mexican, border, certain"],"lift":["agent, boarder, patrol, seal, deport, certain, close"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.1"]},{"name":["fenc, mexico, deal, south, fill, difficult, worker"],"size":[1800],"topic_no":[19],"thought_1":["no control.  us has lost all control.  not only illegel but drugs etc., etc. enter each day."],"thought_2":["dearth of creative ways to deal with problem; fact that large employers are getting a free ride with underpaid aliens; stupidity of govt. in erecting a fence; truckers from mexico using our roads and not paying taxes for the upkeep."],"prob":["mexico, fenc, make, worker, difficult, etc, deal"],"frex":["fenc, mexico, deal, south, fill, difficult, worker"],"lift":["avail, california, deal, south, southern, texa, thought"],"score":["agent, answer, belong, buy, california, class, close"],"proportion":["0.04"]}],"topic_no":[16,19]}],"topic_no":[17,16,19]}],"topic_no":[7,14,17,16,19]},{"name":["tax, come, citizen, take, get, peopl, countri"],"children":[{"name":["pay, job, mani, tax, english, citizen, take"],"children":[{"name":["citizen, opportun, becom, send, money, way, receiv"],"size":[1800],"topic_no":[12],"thought_1":["that immigrants are the heart and soul and the creative growth that america has always had--all immigrants. that although we focus on latinos there are illegals from many countries whose people we consider \"white\". that it would behoove us to find some way to tax any income from those who work here. it is wrong to take social security payments from people who will not receive it. immigrants must become citizens within 2 years of their visa issue date unless a student. students could get another 2 years until a degree is procured . thereafter they leave or become citizens. we will expect other countries to require that from our citizens who live abroad. there should be a heavy tarriff on any money that leaves the u.s. by any electronic transfer, bank draft or otherwise. that it would then be cheaper for an immigrant to bring his family here than to send money out. that we are the second largest  source of revenue for the government of mexico because immigrants send money home."],"thought_2":["criminals stealing our jobs, our money, our belongings. people who don't speak english in our public schools. babies being born into this country and becoming citizens on a daily basis. free health care. pigs and slobs on the jobsite. you asked the wrong person, i work in construction and could go on for days about these thieves."],"prob":["citizen, way, becom, money, free, mani, send"],"frex":["citizen, opportun, becom, send, money, way, receiv"],"lift":["opportun, ileagl, incom, non, payment, spend, everyth"],"score":["agent, answer, belong, buy, california, class, close"],"proportion":["0.05"]},{"name":["much, low, take, drive, long, unemploy, make"],"size":[1800],"topic_no":[15],"thought_1":["take over, over crowding of our nation.  more people not enough welfare or jobs.  health insurance is at an altime low and we can take of our own people who is here so why allow other to come here and take away the aid that could go to the people who is already here."],"thought_2":["conflicts between working class, illegal profits for companies hiring undocumented immigrants, low job wages, more immigration, overpopulation and competition for jobs."],"prob":["take, job, much, make, long, low, wage"],"frex":["much, low, take, drive, long, unemploy, make"],"lift":["base, citi, class, land, low, prison, undocu"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.05"]},{"name":["tax, speak, pay, get, learn, languag, english"],"children":[{"name":["pay, tax, reciev, toward, dont, problem, mani"],"size":[1800],"topic_no":[10],"thought_1":["1. not being able to document them so we have a record for crime, taxes and terrorism\n2.  that they are recieving money that i pay taxes to provide and they dont pay any of it\n3.  they recieve many services from the states they are in that again they dont  pay towards and many people that are legally here are not getting because their isn't enough to go around.\n4 that our country is bending and stretching toaccomidate their cultures"],"thought_2":["we are letting too many immigrants into the country.\ntoo many immigrants insist on speaking their native language and do not learn english. that is a real problem in our schools and business.\ni do not believe immigrants should get social security....unless they work and pay into it.  \nimmigrants should not be able to get all the freebies that they are getting."],"prob":["tax, pay, get, mani, problem, benefit, dont"],"frex":["pay, tax, reciev, toward, dont, problem, mani"],"lift":["reciev, toward, record, break, might, pay, dont"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.06"]},{"name":["english, speak, noth, realli, learn, like, languag"],"size":[1800],"topic_no":[13],"thought_1":["i'm really more worried about world population growth than about immigration per se.  i do feel that immigrants should learn english.  i do not like the idea of spanish being on an equal par with english.  speak what ever you want at home but learn enough english to function in this country."],"thought_2":["english as primary language\nequality for all\ntraditions and customs\nfear of the unknown"],"prob":["english, learn, languag, speak, like, crimin, noth"],"frex":["english, speak, noth, realli, learn, like, languag"],"lift":["noth, realli, custom, feel, english, speak, learn"],"score":["agent, answer, belong, buy, california, class, close"],"proportion":["0.05"]}],"topic_no":[10,13]}],"topic_no":[12,15,10,13]},{"name":["think, live, countri, peopl, work, come, get"],"children":[{"name":["peopl, live, think, countri, come, america, work"],"children":[{"name":["come, back, kill, live, america, elli, island"],"size":[1800],"topic_no":[2],"thought_1":["i think with our (us) needing more  help here ,and less over seas  ,i think there should be a complet stop of letting people in the us so anyone of them cant kill anyone of us anymore.and all of our men and woman shoud be brought back to the us , instead of fighting a war we dont belong in ..."],"thought_2":["i think of people from other countries coming to america to live.  these days you can't help thinking about the mexicans coming across the border, as well as those that are already here."],"prob":["come, live, think, america, back, help, less"],"frex":["come, back, kill, live, america, elli, island"],"lift":["barrier, elli, island, kill, across, back, come"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.05"]},{"name":["peopl, countri, work, process, look, anoth, chanc"],"size":[1800],"topic_no":[4],"thought_1":["people from other countries trying to come here to live or work and they don't always have the proper paper work"],"thought_2":["people comming over here from another country."],"prob":["peopl, countri, work, process, look, anoth, tri"],"frex":["peopl, countri, work, process, look, anoth, chanc"],"lift":["peopl, countri, process, work, look, chanc, sent"],"score":["agent, answer, attitud, belong, buy, california, class"],"proportion":["0.07"]}],"topic_no":[2,4]},{"name":["better, build, life, fix, poor, wall, want"],"size":[1800],"topic_no":[3],"thought_1":["poor people wanting a better life because their own country is so full of \ncorruption. they have found it too easy to slip accross the border and our government must have some reasons for wanting them here to keep our wages lower. it has kept pur young from summer jobs. they are a major drain on \nour health care system as well as all the welfare that many get. i don't what the answer is to fixing the problem with the ones already here but amnesty as it was done the last time is not the answer either. i personally helped 3 women get their papers the last time and as far as i know only 1 became a citizen. i beleive they should all speak english and we shouldn't have to pay extra so they can learn. it should not be our job t learn spanish."],"thought_2":["illegal immigrants, people complaining about them getting govt. benefits, talk about building a wall on the mexico border. poor people who do the jobs that most of us wouldn't take anyway. if i lived somewhere else, facing poverty, i would want to come here to build a better life too."],"prob":["better, life, poor, want, build, border, one"],"frex":["better, build, life, fix, poor, wall, want"],"lift":["fix, keep, full, build, wall, answer, construct"],"score":["agent, answer, belong, buy, california, class, close"],"proportion":["0.03"]},{"name":["new, poor, can, one, alien, thing, get"],"children":[{"name":["new, alien, first, thing, book, earn, given"],"size":[1800],"topic_no":[18],"thought_1":["the fact that congress doesn't have the balls to enforce the laws already on the books. i don't understand why they are debating new laws when there are enought get a hold on the issue. congress is mainly run by special interest groups and lobbyists and i don't foresee them ever doing anything substantial until the lobbyists are kicked out of washington."],"thought_2":["expense.  why we are not enforcing the laws we already have on the books. possibility of terrorists getting in more easily. why are we accomodating the aliens by printing things in other languages and having to push buttons to hear things in our own language.  why do we give free medical services to them when we can even take care of our own first. insurances going up to cover immigrants.  it seems that they are better accomodated than our own citizens. they are given rights, which they have not earned. i'm retired and i'm tired of costs going up because they are able to use and abuse our system to our debtrement."],"prob":["new, alien, thing, one, get, law, first"],"frex":["new, alien, first, thing, book, earn, given"],"lift":["button, hear, kick, run, side, start, book"],"score":["agent, answer, belong, buy, california, class, close"],"proportion":["0.04"]},{"name":["death, know, rich, poor, children, afford, futur"],"size":[1800],"topic_no":[20],"thought_1":["as an arizona resident who lives 18 miles from the mexican-us border, and who has also spoken to some of these illegals while hiking in the huachuca mtns., i know these people, mostly, come here out of sheer desperation.  sure, some are the same lazy, fat, undereducated jerks that lurk around our own mid-level businesses.  but most simply are people who want what we all do: a comfortable life with as little thinking and suffering as possible, while reproducing at will.  they have told me, babies in arms,that if they remain at home, they have no future but an early death.  that they, maybe, should reduce their birth rate and/or not have children at all, if they cannot support them, simply will never occur to citizens of a catholic country, living a day's walk from a rich country that can be easily milked for what they consider a fortune in life support.  there is no answer to this, so long as 95% of mexico's wealth is controlled by 5% of its people, and the only riches the others have lie in their children."],"thought_2":["the only thing that makes me worry is the econany. immigration did not that happen yrars ago. i know all men are not equal. the rich get richer the poore get poorer. are we not all gods children?"],"prob":["get, poor, death, know, live, children, rich"],"frex":["death, know, rich, poor, children, afford, futur"],"lift":["afford, futur, most, spoken, death, know, rich"],"score":["agent, answer, belong, buy, california, class, close"],"proportion":["0.02"]}],"topic_no":[18,20]}],"topic_no":[2,4,3,18,20]}],"topic_no":[12,15,10,13,2,4,3,18,20]}],"topic_no":[7,14,17,16,19,12,15,10,13,2,4,3,18,20]}],"topic_no":[6,8,9,11,1,5,7,14,17,16,19,12,15,10,13,2,4,3,18,20],"name":["STM Model"],"this_root":[true],"summary":["A topic model with 20 topics, 341 documents and a 455 word dictionary."],"proportions":[0.0302,0.0473,0.0267,0.0727,0.0646,0.0447,0.0433,0.0412,0.0353,0.0557,0.0692,0.0515,0.0469,0.0722,0.0516,0.1043,0.0346,0.0425,0.0416,0.024]}
 
 root.x0=0;root.y0=0;update(root);function update(source){var nodes=tree.nodes(root);var height=Math.max(500,nodes.length*barHeight+margin.top+margin.bottom);
  d3.select("svg").transition().duration(duration).attr("height",height);d3.select(self.frameElement).transition().duration(duration).style("height",height+"px");nodes.forEach(function(n,i){n.x=i*barHeight;});
  var node=svg.selectAll("g.node").data(nodes,function(d){return d.id||(d.id=++i);});
  var nodeEnter=node.enter().append("g").attr("class",function(d){if(d.size){return"node leaf"}else{return"node noleaf"}}).attr("transform",function(d){return"translate("+source.y0+","+source.x0+")";}).style("opacity",1e-6);
  nodeEnter.append("rect").data(nodes).attr("y",-barHeight/2).attr("height",barHeight).attr("width",barWidth).style("fill",color).on("click",clickModal);nodeEnter.append("text").attr("dy",3.5).attr("dx",5.5).text(function(d){if (d.children){return d.name;}else{return d.topic_no + ": " + d.name;}});
  d3.selectAll("g.noleaf").append("svg:foreignObject").attr("width",20).attr("height",20).attr("y","-10px").attr("x",barWidth-15).append("xhtml:span").attr("class","control glyphicon glyphicon-minus").attr("width","30").on("click",function(d){click(d);});
  nodeEnter.transition().duration(duration).attr("transform",function(d){return"translate("+d.y+","+d.x+")";}).style("opacity",1);node.transition().duration(duration).attr("transform",function(d){return"translate("+d.y+","+d.x+")";}).style("opacity",1).select("rect").style("fill",color);
  node.exit().transition().duration(duration).attr("transform",function(d){return"translate("+source.y+","+source.x+")";}).style("opacity",1e-6).remove();
  var link=svg.selectAll("path.link").data(tree.links(nodes),function(d){return d.target.id;});link.enter().insert("path","g").attr("class","link").attr("d",function(d){var o={x:source.x0,y:source.y0};return diagonal({source:o,target:o});}).transition().duration(duration).attr("d",diagonal);
  link.transition().duration(duration).attr("d",diagonal);link.exit().transition().duration(duration).attr("d",function(d){var o={x:source.x,y:source.y};return diagonal({source:o,target:o});}).remove();nodes.forEach(function(d){d.x0=d.x;d.y0=d.y;});}
  function click(d){if(d.children){d._children=d.children;d.children=null;}else{d.children=d._children;d._children=null;}update(d);}
  function color(d){return d._children?"#3182bd":d.children?"#c6dbef":"#fd8d3c";}
  function clickModal(d){if(d.size){$("#doc1").text(d.thought_1);$("#doc2").text(d.thought_2);$("#high-prob").text("Highest Probability: "+d.prob);$("#topicModalLabel").text("Topic "+d.topic_no+" Information");$("#frex").text("FREX: "+d.frex);$("#lift").text("Lift: "+d.lift);
  $("#score").text("Score: "+d.score);$("#proportion").text(""+d.proportion);$("#modelBody").hide();$("#clusterBody").hide();$("#topicBody").show();$("#topicModal").modal("show");}else if(d.this_root){$("#topicModalLabel").text("Fitted Model Information");$("#mod1-text").text(d.summary);$("#topicBody").hide();
  $("#clusterBody").hide();$("#modelBody").show();$("#topicModal").modal("show");if ($("#barchartDiv").children().length == 2){proportionChart();}}else{$("#topicModalLabel").text("Cluster Information");$("#clust1-text").text("This cluster comprises topics "+d.topic_no.join(", ")+".");$("#topicBody").hide();$("#modelBody").hide();
  $("#clusterBody").show();$("#topicModal").modal("show");}} function proportionChart(){for(var t=window.innerHeight/3.5,a=window.innerWidth/2.5,r=35,e=35,n=root.proportions.length,o=[.5];o.length<n;)o.push(o[o.length]+1);var i=d3.select("#barchartDiv").append("svg").attr({width:a,height:t,style:"display: block; margin: auto;"}),
  l=d3.scale.linear().domain([0,d3.max(root.proportions)]).range([0,t-r]),s=d3.scale.linear().domain([0,n]).range([0,a-e]),d=d3.scale.linear().domain([0,d3.max(root.proportions)]).range([t-r,0]),p=d3.svg.axis().scale(d).orient("left"),c=d3.svg.axis().scale(s).orient("bottom").tickValues(d3.range(.5,n+.5,1));
  i.selectAll("rect").data(root.proportions).enter().append("rect").attr({x:function(t,r){return r*(a-e)/n+e},y:function(a){return t-l(a)-r},width:(a-e)/n-1,height:l,fill:"orange"}),
  i.append("g").attr({"class":"axis",transform:"translate("+e+","+(t-r)+")"}).call(c),i.append("g").attr({"class":"axis",transform:"translate("+e+")"}).call(p),i.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",a/2).attr("y",t-6).text("Topic")}</script>
  <div class="modal fade" id="topicModal" tabindex="-1" role="dialog" aria-labelledby="topicModalLabel" aria-hidden="true">
  <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="topicModalLabel">Topic Information</h4></div>
  <div class="modal-body" id="topicBody"><h5>Top Words</h5><ul id="word-list"><li id="high-prob">Highest Probability: </li><li id="frex">FREX: </li><li id="lift">Lift: </li><li id="score">Score: </li></ul><hr><h5>Representative Documents</h5>
  <div id="doc1" class="modal-body scrollbox"></div>
  <br><div id="doc2" class="modal-body scrollbox"></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div><div class="modal-body" id="modelBody"><h5>Summary</h5><span id="mod1-text"></span><hr><div id="barchartDiv">
  <h5>Topic Proportions in Corpus</h5><br></div><br><div class="modal-footer">
  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div><div class="modal-body" id="clusterBody"><h5>Summary</h5><span id="clust1-text"></span><br><br><div class="modal-footer">
  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div></body>
